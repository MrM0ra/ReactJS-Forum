{"version":3,"sources":["context/UserContext.js","Firebase.js","components/pages/Login.js","styles/styles.js","components/presentational/MessagesDisplayer.js","components/container/MessageApp.js","components/presentational/UserDisplayer.js","components/container/LeftSideBar.js","components/pages/Chat.js","components/pages/Registry.js","App.js","index.js"],"names":["UserContext","createContext","AuthProvider","children","useState","userName","setUserName","userID","setUserID","userPwd","setUserPwd","auth","setAuth","Provider","value","changeAuth","arg","changeUserName","changePwd","changeUserID","generateSha256","pwd","Crypto","db","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","getDatabase","Login","props","useContext","checkExistence","username","get","child","ref","then","snapshot","exists","users","val","keys","Object","i","length","password","toString","userId","catch","error","console","validateCredentials","res","history","push","alert","style","display","onSubmit","event","preventDefault","autoComplete","onChange","target","id","type","onClick","styles","form","placeItems","margin","div","justifyContent","alignItems","box","width","padding","position","top","left","transform","background","textAlign","body","fontFamily","messageBubble","borderRadius","backgroundColor","border","MessageDisplayer","handleReplyClick","e","msg","owner","ownerId","deleteMessage","MessageApp","messages","map","index","UserDisplayer","LeftSideBar","participants","user","count","Chat","newMessage","setNewMessage","setMessages","useEffect","oldMessages","msgs","msgK","j","unshift","prev","height","overflow","msgId","set","deleteFBMessage","filter","responses","document","querySelector","uuid","Registry","userid","hashedPwd","addUser","autocomplete","App","basename","window","location","pathname","exact","path","to","component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.17925c7f.chunk.js","sourcesContent":["import React, {createContext, useState} from 'react';\r\n\r\nexport const UserContext = createContext();\r\n\r\nexport const AuthProvider =({children}) => {\r\n    const [userName, setUserName] = useState('');\r\n    const [userID, setUserID] = useState('');\r\n    const [userPwd, setUserPwd] = useState('');\r\n    const [auth, setAuth] = useState(false);\r\n    \r\n    const changeUserName = (arg) => {\r\n        setUserName(arg);\r\n    }\r\n\r\n    const changePwd = (arg) => {\r\n        setUserPwd(arg);\r\n    }\r\n\r\n    const changeUserID = (arg) => {\r\n        setUserID(arg);\r\n    }\r\n\r\n    const changeAuth = (arg) => {\r\n        setAuth(arg);\r\n    }\r\n\r\n    return (\r\n        <UserContext.Provider value={{auth, changeAuth, userName, userPwd, changeUserName, changePwd, userID, changeUserID}}>\r\n            {children}\r\n        </UserContext.Provider>\r\n    )\r\n}\r\n","import { initializeApp } from 'firebase/app';\r\nimport { getDatabase, ref, set, get, child, update } from 'firebase/database';\r\nimport * as Crypto from 'crypto-js';\r\n\r\nconst generateSha256 = (pwd) => {\r\n    return Crypto.SHA256(pwd);\r\n}\r\n\r\nconst firebaseApp = ({\r\n    apiKey: \"AIzaSyDeGOpvl_DKZdh1vCC3KjVaDjo4E1jWWRM\",\r\n    authDomain: \"firechat-b5eb7.firebaseapp.com\",\r\n    databaseURL: \"https://firechat-b5eb7-default-rtdb.firebaseio.com/\",\r\n    projectId: \"firechat-b5eb7\",\r\n    storageBucket: \"firechat-b5eb7.appspot.com\",\r\n    messagingSenderId: \"714586559822\",\r\n    appId: \"1:714586559822:web:7f1659e7c9f8f265dffa1f\",\r\n    measurementId: \"G-CYWN7LQMPW\"\r\n});\r\n\r\nconst app = initializeApp(firebaseApp);\r\nconst db = getDatabase();\r\n\r\nconst addUser = (userName, pwd, userid) => {\r\n    const hashedPwd = generateSha256(pwd);\r\n    set(ref(db, 'users/'+ userid), {\r\n        userId: userid,\r\n        userName: userName,\r\n        password: hashedPwd.toString()\r\n    });\r\n}\r\n\r\nconst addMessage = (msg, userId) => {\r\n    set(ref(db, 'messages/'+userId+'/'+msg.id), {\r\n        ownerId: msg.ownerId,\r\n        id: msg.id,\r\n        owner: msg.owner,\r\n        msg: msg.msg,\r\n        responses: msg.responses\r\n    });    \r\n}\r\n\r\nconst deleteFBMessage = (msgId, userID) => {\r\n    set(ref(db, 'messages/'+userID+'/'+msgId), null);\r\n}\r\n\r\nconst getAllMessages = () => {\r\n    const messages = get(child(ref(db), 'messages/')).then( snapshot => {\r\n        if (snapshot.exists()) {\r\n            return snapshot.val();\r\n        }\r\n    }).catch( error => {\r\n        console.error(error);\r\n    });\r\n    return messages;\r\n}\r\n\r\nconst getAllUsers = () => {\r\n    const messages = get(child(ref(db), 'messages/')).then( snapshot => {\r\n        if (snapshot.exists()) {\r\n            return snapshot.val();\r\n        }\r\n    }).catch( error => {\r\n        console.error(error);\r\n    });\r\n    return messages;\r\n}\r\n\r\nconst editMessage = (msgID, userID, nesMSG) => {\r\n    //Verificar si el usuario tiene ese mensaje\r\n}\r\n\r\nconst validateCredentials = (username, userPwd) => {    \r\n    const uid = get(child(ref(db), 'users/')).then((snapshot) => {\r\n        if (snapshot.exists()) {\r\n            let users = snapshot.val();\r\n            const keys = Object.keys(users);\r\n            let flag=false;\r\n            for(let i=0;i<keys.length; i++){\r\n                flag = users[keys[i]].userName === username ? true : false;\r\n                if (flag){\r\n                    flag = users[keys[i]].password === generateSha256(userPwd).toString() ? true : false;\r\n                    if(flag){\r\n                        return users[keys[i]].userId;\r\n                    }else{\r\n                        return false;\r\n                    }\r\n                }\r\n            }\r\n            return false;\r\n        } else {\r\n            return false;\r\n        }\r\n    }).catch( error => {\r\n        console.error(error);\r\n    });\r\n    return uid;\r\n}\r\n\r\nexport { db, addUser, addMessage, editMessage, validateCredentials, getAllMessages, deleteFBMessage };\r\n","import React, { useContext } from 'react';\r\nimport {UserContext} from '../../context/UserContext';\r\nimport { validateCredentials } from '../../Firebase';\r\n//import {styles} from '../../styles/styles';\r\n\r\nexport const Login = (props) => {\r\n\r\n    const {userName, changeUserName, changePwd, userPwd, changeAuth, changeUserID} = useContext(UserContext);\r\n\r\n    const handleChangeUserName = (event) => {\r\n        changeUserName(event.target.value);\r\n    }\r\n\r\n    const checkExistence = () => {\r\n        validateCredentials(userName, userPwd).then(res => {\r\n            if(res!==false) {\r\n                changeAuth(true);\r\n                changeUserID(res);\r\n                props.history.push(\"/chat\");\r\n            }else{\r\n                alert(\"¡Usuario y/o contraseña incorrectos!\");\r\n            }\r\n        });\r\n    }\r\n\r\n    const handleChangePwd = ({target}) => {\r\n        changePwd(target.value);\r\n    }\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        checkExistence();\r\n    }\r\n\r\n    const handleRegisterClick = (event) => {\r\n        event.preventDefault();\r\n        props.history.push(\"/register\");\r\n    }\r\n\r\n    return(\r\n        <div style={{display: 'table-caption'}}>\r\n            <form onSubmit={handleSubmit} autoComplete=\"off\">\r\n                <span>Username</span>\r\n                <input onChange={handleChangeUserName} id='username-input'/>\r\n                <span>Password</span>\r\n                <input onChange={handleChangePwd} type=\"password\" id='pwd-input'/>\r\n                <input type=\"submit\" value=\"LogIn\"/>\r\n                <button type=\"submit\" onClick={handleRegisterClick}>Register</button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n","export const styles = {\r\n    form: {\r\n        display: 'grid',\r\n        placeItems: 'center',\r\n        margin: 10\r\n    },\r\n    div: {\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        margin: 10\r\n    },\r\n    box: {\r\n        width: 400,\r\n        padding: 40,\r\n        position: 'absolute',\r\n        top: '50%',\r\n        left: '50%',\r\n        transform: 'translate(-50%,-50%)',\r\n        background: '#151515',\r\n        textAlign: 'center'\r\n    },\r\n    body: {\r\n        margin: 0,\r\n        padding: 0,\r\n        fontFamily: 'sans-serif',\r\n        background: '#301b3f'\r\n    },\r\n    messageBubble: {\r\n        borderRadius: 5,\r\n        backgroundColor: 'greenblue',\r\n        border: '1px solid',\r\n        display: 'inline-block',\r\n        margin: 5,\r\n        width: 'fit-content',\r\n        padding: 5\r\n    },\r\n};","import React, {useContext} from \"react\";\r\nimport {UserContext} from '../../context/UserContext';\r\nimport { styles } from \"../../styles/styles\";\r\n\r\nexport const MessageDisplayer = (props) => {\r\n\r\n    const { userID } = useContext(UserContext);\r\n\r\n    const handleEditClick = (e) => {\r\n        \r\n    }\r\n\r\n    const handleDeleteClick = () => {\r\n        props.deleteMessage(props.msg.id);\r\n    }\r\n\r\n    const handleReplyClick = (e) => {\r\n        \r\n    }\r\n\r\n    return(\r\n        <div style={styles.messageBubble} id={props.msg.id}>\r\n            <div>\r\n                <span><b>{props.msg.owner}: </b></span>\r\n                {props.msg.msg}     \r\n            </div>\r\n            { props.msg.ownerId === userID ?\r\n                <div>\r\n                    <button onClick={handleEditClick}>\r\n                        Editar\r\n                    </button>\r\n                    <button onClick={handleDeleteClick}>\r\n                        Eliminar\r\n                    </button>\r\n                    <button onClick={handleReplyClick}>\r\n                        Responder\r\n                    </button>\r\n                </div>\r\n                :\r\n                <div>\r\n                    <button onClick={handleReplyClick}>Responder</button>\r\n                </div>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport {MessageDisplayer} from '../presentational/MessagesDisplayer';\r\n\r\nexport const MessageApp = (props) => {\r\n\r\n    const renderMessages = () => {\r\n        return props.messages.map( (msg, index) => <MessageDisplayer deleteMessage={props.deleteMessage} key={index} msg={msg}/>);\r\n    }\r\n\r\n    return(\r\n        <div style={{display: 'grid'}}>\r\n            {renderMessages()}\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react'\r\n\r\nexport const UserDisplayer = (props) => {\r\n    return (\r\n        <div>\r\n            <p>{props.username}</p>\r\n            <p>{props.messages}</p>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport {UserDisplayer} from '../presentational/UserDisplayer';\r\n\r\nexport const LeftSideBar = (props) => {\r\n\r\n    const renderUsers = () => {\r\n        props.participants ? \r\n        props.participants.map(user => <UserDisplayer username={user.userName} messages={user.msg.count}/>)\r\n        :\r\n        <div>\r\n        </div>;\r\n    }\r\n\r\n    return (\r\n        <div style={{display: 'table-caption'}}>\r\n            <div>\r\n                <div>\r\n                    <span>Usuarios involucrados en el foro</span>\r\n                </div>\r\n                <div>\r\n                    <input type=\"text\"/>\r\n                </div>\r\n                <div>\r\n                    {renderUsers()}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, {useContext, useState, useEffect} from \"react\";\r\nimport {UserContext} from '../../context/UserContext';\r\nimport {MessageApp} from '../container/MessageApp';\r\nimport * as uuid from 'uuid';\r\nimport {addMessage, getAllMessages, deleteFBMessage } from '../../Firebase';\r\nimport {LeftSideBar} from '../container/LeftSideBar';\r\n\r\nexport const Chat = (props) => {\r\n    const {userName, userID, changeUserName, changeAuth } = useContext(UserContext);\r\n    const [newMessage, setNewMessage] = useState({});\r\n\r\n    const users=null;\r\n\r\n    const handleChange = (event) =>{\r\n        event.preventDefault();\r\n        setNewMessage({ownerId: userID, id: uuid.v1(), owner: userName, msg: event.target.value, responses: []});\r\n    }\r\n\r\n    const [messages, setMessages] = useState([]);\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        setMessages((prev) => [...prev, newMessage]);\r\n        addMessage(newMessage, userID);\r\n        setNewMessage({});\r\n        document.querySelector('#message').value = '';\r\n    }\r\n\r\n    useEffect( () => {\r\n        getAllMessages().then(res => {\r\n            if(res){\r\n                const keys = Object.keys(res);\r\n                let oldMessages =[];\r\n                for(let i=0;i<keys.length;i++){\r\n                    let msgs = res[keys[i]];\r\n                    const msgK = Object.keys(msgs);\r\n                    for(let j=0;j<msgK.length;j++){\r\n                        oldMessages.unshift(msgs[msgK[j]])\r\n                    }\r\n                }\r\n                setMessages((prev) => [...oldMessages]);\r\n            }\r\n        });\r\n    }, []);\r\n\r\n    const deleteMessage = (id) => {\r\n        deleteFBMessage(id, userID);\r\n        setMessages((prev)=>{\r\n            return prev.filter(msg => msg['id']!==id);\r\n        });\r\n    }\r\n\r\n    const logout= () => {\r\n        changeUserName('');\r\n        changeAuth(false);\r\n        props.history.push(\"/\");\r\n    }\r\n\r\n    return(\r\n        <div style={{display: 'flex', justifyContent: 'left'}}>\r\n            <LeftSideBar participants={users}/>\r\n            <div>\r\n                <div>\r\n                    <h1>Bienvenid@ {userName}!</h1>\r\n                    <div style={{height:'500px', width:'100%', overflow:'auto'}}>\r\n                        <MessageApp user={userName} deleteMessage={deleteMessage} messages={messages}/> \r\n                    </div>\r\n                </div>\r\n                <div style={{display: 'table-caption'}}>\r\n                    <form onSubmit={handleSubmit} autoComplete=\"off\">\r\n                        <input type=\"text\" id=\"message\" onChange={handleChange}/>\r\n                        <input type=\"submit\" />\r\n                        <input type=\"button\" value=\"logout\" onClick={logout}/>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, {useContext} from 'react';\r\nimport {UserContext} from '../../context/UserContext';\r\nimport {addUser} from '../../Firebase';\r\nimport * as uuid from 'uuid';\r\n\r\nexport const Registry = (props) => {\r\n\r\n    const {changeUserName, changePwd, userName, userPwd, changeUserID} = useContext(UserContext);\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        let userid = uuid.v1();\r\n        changeUserID(userid);\r\n        addUser(userName, userPwd, userid);\r\n        props.history.push(\"/chat\");\r\n    }\r\n\r\n    const handleChangeUserName = (event) => {\r\n        changeUserName(event.target.value);\r\n    }\r\n\r\n    const handleChangePwd = (event) => {\r\n        changePwd(event.target.value);\r\n    }\r\n\r\n    return (\r\n        <div style={{display: 'table-caption'}}>\r\n            <form onSubmit={handleSubmit} autocomplete=\"off\">\r\n                <span>Username</span>\r\n                <input onChange={handleChangeUserName} id='username-input'/>\r\n                <span>Password</span>\r\n                <input onChange={handleChangePwd} type=\"password\" id='pwd-input'/>\r\n                <input type=\"submit\" value=\"SignIng\"/>\r\n            </form>\r\n        </div>\r\n    );\r\n\r\n\r\n}\r\n","import './App.css';\r\n//import React, { useContext } from 'react';\r\n//import {UserContext} from './context/UserContext';\r\nimport React from 'react';\r\nimport {BrowserRouter, Route, Switch, Redirect} from 'react-router-dom';\r\nimport {Login} from '../src/components/pages/Login';\r\nimport {Chat} from '../src/components/pages/Chat';\r\nimport {Registry} from '../src/components/pages/Registry';\r\nimport {AuthProvider} from '../src/context/UserContext';\r\n//import {styles} from '../src/styles/styles';\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <AuthProvider>\r\n      <BrowserRouter basename={window.location.pathname || ''}/*style={styles.body}*/>\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            <Redirect to=\"/login\" />\r\n          </Route>\r\n          <Route exact path=\"/login\" component={Login}/>\r\n          <Route exact path=\"/chat\"  component={Chat}/>\r\n          <Route exact path=\"/register\"  component={Registry}/>\r\n        </Switch>\r\n      </BrowserRouter>\r\n    </AuthProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n"],"sourceRoot":""}